import jenkins.model.*
import hudson.model.*
import hudson.tools.*

def inst = Jenkins.getInstance()

def desc = inst.getDescriptor("hudson.model.JDK")

def versions = [
  "JDK18": "{{ jenkins_home }}/tools/jdk-8u172-linux-x64",
  "JDK10": "{{ jenkins_home }}/tools/jdk-10.0.1_linux-x64"
]
def installations = [];

for (v in versions) {
  def installation = new JDK(v.key, v.value)
  installations.push(installation)
}

desc.setInstallations(installations.toArray(new JDK[0]))

desc.save()
